local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Create permanent GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PermanentGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Open/Close toggle button
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 100, 0, 40)
toggleButton.Position = UDim2.new(0, 10, 0.45, -20)
toggleButton.Text = "Open"
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.TextScaled = true
toggleButton.Draggable = true
toggleButton.Active = true
toggleButton.Parent = screenGui

-- Main frame (page 1)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 470)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -215)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Visible = false
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Page 2 frame
local page2Frame = Instance.new("Frame")
page2Frame.Name = "Page2Frame"
page2Frame.Size = mainFrame.Size
page2Frame.Position = mainFrame.Position
page2Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
page2Frame.Visible = false
page2Frame.Active = true
page2Frame.Draggable = true
page2Frame.Parent = screenGui

-- Title for both pages
local function createTitle(parent, titleText)
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 40)
    title.Text = titleText
    title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextScaled = true
    title.Parent = parent
end

createTitle(mainFrame, "MY HUB")
createTitle(page2Frame, "PAGE 2")

-- Page 1 buttons with scripts
local items = {
    {name = "Respawn",           url = "https://pastebin.com/raw/0brjHFjT"},
    {name = "Get",               url = "https://pastebin.com/raw/1hrF6mkk"},
    {name = "Cooldown",          url = "https://pastefy.app/rPDiQ9sT/raw"},
    {name = "Cooldown No Move",  url = "https://pastebin.com/raw/5SSHDEc6"},
    {name = "Kill Aura",         url = "https://pastebin.com/raw/qWmPN4f5"},
    {name = "Use Tools",         url = "https://pastebin.com/raw/q81GEhK8"},
    {name = "Float",             url = "https://pastebin.com/raw/WCkNgWZ9"},
    {name = "Grip Tools",        url = ""},
    {name = "LoopBring",         url = "https://pastebin.com/raw/W5iRiWyG"},
    {name = "Damage",            url = "https://pastebin.com/raw/iSEcbuqZ"},
    {name = "Next Page",         url = nil}
}

-- Create page 1 buttons
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9, 0, 0, 30)
    btn.Position = UDim2.new(0.05, 0, 0, 50 + (i - 1) * 35)
    btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextScaled = true
    btn.Text = item.name
    btn.Name = "Button" .. i
    btn.Parent = mainFrame

    if item.name == "Next Page" then
        btn.MouseButton1Click:Connect(function()
            mainFrame.Visible = false
            page2Frame.Visible = true
        end)
    elseif item.url then
        btn.MouseButton1Click:Connect(function()
            spawn(function()
                local success, err = pcall(function()
                    loadstring(game:HttpGet(item.url))()
                end)
                if not success then
                    warn("Error in '" .. item.name .. "':", err)
                end
            end)
        end)
    end
end

-- Page 2 buttons (space for adding more links)
local page2Items = {
    {name = "Reach",        url = "https://pastefy.app/rNQ6FvYC/raw"},
    {name = "Antilag",      url = "https://pastebin.com/raw/2XBy5AXL"},
    {name = "Kill Counter", url = "https://pastebin.com/raw/jHjFv4fc"},
    {name = "Get Base",     url = "https://pastebin.com/raw/MaRv6QyM"},
    {name = "Buy Base",     url = "https://pastebin.com/raw/XqF6uqet"},
    {name = "God Mode",     url = "https://pastebin.com/raw/aR2bH6ym"},
    {name = "Ready",        url = "https://pastefy.app/rNQ6FvYC/raw"}
}

-- Create page 2 buttons
for i, item in ipairs(page2Items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9, 0, 0, 30)
    btn.Position = UDim2.new(0.05, 0, 0, 50 + (i - 1) * 35)
    btn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextScaled = true
    btn.Text = item.name
    btn.Name = "Page2_Button" .. i
    btn.Parent = page2Frame

    btn.MouseButton1Click:Connect(function()
        if item.url and item.url ~= "" then
            spawn(function()
                local success, err = pcall(function()
                    loadstring(game:HttpGet(item.url))()
                end)
                if not success then
                    warn("Error in '" .. item.name .. "':", err)
                end
            end)
        else
            warn("No URL assigned to '" .. item.name .. "'")
        end
    end)
end

-- Back to page 1 button
local backButton = Instance.new("TextButton")
backButton.Size = UDim2.new(0.9, 0, 0, 30)
backButton.Position = UDim2.new(0.05, 0, 1, -40)
backButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
backButton.TextColor3 = Color3.fromRGB(255, 255, 255)
backButton.TextScaled = true
backButton.Text = "Back"
backButton.Parent = page2Frame
backButton.MouseButton1Click:Connect(function()
    page2Frame.Visible = false
    mainFrame.Visible = true
end)

-- Show/hide the hub
local isOpen = false
toggleButton.MouseButton1Click:Connect(function()
    isOpen = not isOpen
    mainFrame.Visible = isOpen
    page2Frame.Visible = false
    toggleButton.Text = isOpen and "Close" or "Open"
end)
