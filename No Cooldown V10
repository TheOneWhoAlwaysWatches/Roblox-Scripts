-- ⚡ NO COOLDOWN V10 — Ultra OP but Network-Safe ⚡
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

local Heartbeat = RunService.Heartbeat

-- === 1️⃣ Cooldown nuker (fast but safe: ~20x per second)
local function patchUpvalues()
    for _, v in pairs(getgc(true)) do
        if typeof(v) == "function" and islclosure(v) then
            for i = 1, debug.getinfo(v).nups do
                local name = debug.getupvalue(v, i)
                if type(name) == "string" and name:lower():find("cooldown") then
                    debug.setupvalue(v, i, 0)
                end
            end
        end
    end
end

task.spawn(function()
    while task.wait(0.05) do
        patchUpvalues()
    end
end)

-- === 2️⃣ Remote spammer (3–4 per frame, network safe but deadly)
local function spamToolRemotes(target)
    local char = LocalPlayer.Character
    if not char then return end
    local tool = char:FindFirstChildOfClass("Tool")
    if not tool then return end

    for _, remote in ipairs(tool:GetDescendants()) do
        if remote:IsA("RemoteEvent") then
            for _ = 1, 3 do
                remote:FireServer(target)
            end
        end
    end
end

-- === 3️⃣ Fallback kill (safety nuke if remotes don’t connect)
local function softKill(humanoid)
    if humanoid and humanoid.Health > 0 then
        humanoid.Health = 0
    end
end

-- === 4️⃣ Toggle
local ignoreRange = false
UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == Enum.KeyCode.R then
        ignoreRange = not ignoreRange
        print("🌍 Ignore Range:", ignoreRange)
    end
end)

-- === 5️⃣ Main loop
Heartbeat:Connect(function()
    local myChar = LocalPlayer.Character
    local myHRP = myChar and myChar:FindFirstChild("HumanoidRootPart")
    if not myHRP then return end

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local hum = player.Character:FindFirstChildOfClass("Humanoid")
            local enemyHRP = player.Character:FindFirstChild("HumanoidRootPart")

            if hum and enemyHRP and hum.Health > 0 then
                local dist = (myHRP.Position - enemyHRP.Position).Magnitude
                if ignoreRange or dist <= 30 then
                    spamToolRemotes(enemyHRP)
                    softKill(hum) -- ✅ fallback
                end
            end
        end
    end
end)

print("🔥 V10 No Cooldown ENABLED — 0.05s cooldown nuke, 3x remote spam, softKill safety.")
