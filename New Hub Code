--// TDW Hub Final - Hacker Themed UI

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local MainGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
MainGui.Name = "TDW_Hub"
MainGui.ResetOnSpawn = false

--// Toggle Button
local ToggleBtn = Instance.new("TextButton", MainGui)
ToggleBtn.Size = UDim2.new(0, 100, 0, 30)
ToggleBtn.Position = UDim2.new(0, 10, 0, 10)
ToggleBtn.Text = "Toggle TDW"
ToggleBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ToggleBtn.TextColor3 = Color3.fromRGB(0, 255, 0)

--// Main Frame
local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 800, 0, 500)
MainFrame.Position = UDim2.new(0.5, -400, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
MainFrame.Visible = true
MainFrame.Active = true
MainFrame.Draggable = true

--// TDW Vertical Logo
local TDWLabel = Instance.new("TextLabel", MainFrame)
TDWLabel.Size = UDim2.new(0, 60, 1, 0)
TDWLabel.Position = UDim2.new(0, 0, 0, 0)
TDWLabel.Text = "T\nD\nW"
TDWLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
TDWLabel.Font = Enum.Font.Arcade
TDWLabel.TextSize = 30
TDWLabel.BackgroundColor3 = Color3.fromRGB(5, 5, 5)

--// Page Buttons Frame (Top)
local PageButtons = Instance.new("Frame", MainFrame)
PageButtons.Size = UDim2.new(1, -60, 0, 50)
PageButtons.Position = UDim2.new(0, 60, 0, 0)
PageButtons.BackgroundTransparency = 1
PageButtons.Name = "PageButtons"

local divider = Instance.new("Frame", MainFrame)
divider.Size = UDim2.new(1, -60, 0, 3)
divider.Position = UDim2.new(0, 60, 0, 50)
divider.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
divider.BorderSizePixel = 0

--// Pages
local Pages = {}
local currentPage = nil
local function createPage(name)
    local Page = Instance.new("Frame", MainFrame)
    Page.Size = UDim2.new(1, -60, 1, -53)
    Page.Position = UDim2.new(0, 60, 0, 53)
    Page.BackgroundTransparency = 1
    Page.Name = name
    Page.Visible = (currentPage == nil)
    Pages[name] = Page
    if not currentPage then currentPage = name end
    return Page
end

createPage("Tips")
createPage("Main")
createPage("Misc")
createPage("Alternative Hubs")

local pageIcons = {
    ["Tips"] = "🧠",
    ["Main"] = "💀",
    ["Misc"] = "🔧",
    ["Alternative Hubs"] = "🌐"
}

local buttonSpacing = 10
local buttonX = 0
for _, name in ipairs({"Tips", "Main", "Misc", "Alternative Hubs"}) do
    local btn = Instance.new("TextButton", PageButtons)
    btn.Size = UDim2.new(0, 120, 1, -10)
    btn.Position = UDim2.new(0, buttonX, 0, 5)
    btn.Text = (pageIcons[name] or "") .. " " .. name
    btn.TextColor3 = Color3.fromRGB(0, 255, 0)
    btn.Font = Enum.Font.Arcade
    btn.TextScaled = true
    btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = btn

    btn.MouseButton1Click:Connect(function()
        for pageName, frame in pairs(Pages) do
            frame.Visible = (pageName == name)
        end
        currentPage = name
    end)
    buttonX = buttonX + 130
end

--// Toggle Sidebar Panel (Right)
local Sidebar = Instance.new("Frame", MainFrame)
Sidebar.Name = "Sidebar"
Sidebar.Size = UDim2.new(0, 150, 1, 0)
Sidebar.Position = UDim2.new(1, 0, 0, 0)
Sidebar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Sidebar.Visible = true

local userLabel = Instance.new("TextLabel", Sidebar)
userLabel.Size = UDim2.new(1, 0, 0, 50)
userLabel.Position = UDim2.new(0, 0, 0, 0)
userLabel.Text = "User: " .. LocalPlayer.Name
userLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
userLabel.Font = Enum.Font.Arcade
userLabel.TextScaled = true
userLabel.BackgroundTransparency = 1

local avatar = Instance.new("ImageLabel", Sidebar)
avatar.Size = UDim2.new(0, 100, 0, 100)
avatar.Position = UDim2.new(0.5, -50, 0, 60)
avatar.BackgroundTransparency = 1
avatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. LocalPlayer.UserId .. "&width=420&height=420&format=png"

local statsLabel = Instance.new("TextLabel", Sidebar)
statsLabel.Size = UDim2.new(1, 0, 0, 60)
statsLabel.Position = UDim2.new(0, 0, 0, 170)
statsLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
statsLabel.Font = Enum.Font.Arcade
statsLabel.TextScaled = true
statsLabel.BackgroundTransparency = 1
statsLabel.Text = "FPS: ...\nPing: ..."

--// FPS and Ping Updater
spawn(function()
    local RunService = game:GetService("RunService")
    local Heartbeat = RunService.Heartbeat
    local last = tick()
    local frames = 0

    while true do
        Heartbeat:Wait()
        frames += 1
        if tick() - last >= 1 then
            local fps = frames
            local ping = math.random(20, 100) -- Fake ping, replace with real if available
            statsLabel.Text = "FPS: " .. fps .. "\nPing: " .. ping .. "ms"
            frames = 0
            last = tick()
        end
    end
end)

--// Toggle visibility
ToggleBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)

--// Loopbring Panel (Left Sidebar Slot Placeholder)
local Loopbring = Instance.new("Frame", MainFrame)
Loopbring.Size = UDim2.new(0, 200, 0, 100)
Loopbring.Position = UDim2.new(0, 60, 1, -110)
Loopbring.BackgroundColor3 = Color3.fromRGB(20, 0, 0)
Loopbring.Name = "Loopbring"
local lbLabel = Instance.new("TextLabel", Loopbring)
lbLabel.Size = UDim2.new(1, 0, 1, 0)
lbLabel.Text = "[Loopbring Control Panel]"
lbLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
lbLabel.Font = Enum.Font.Arcade
lbLabel.TextScaled = true
lbLabel.BackgroundTransparency = 1

--// Final note: Script buttons + Tips to be inserted in next update phase
--// (Paged buttons + Tips system will reuse original functions and Pages)
